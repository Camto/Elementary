<html>
	<head>
		<title>Elementary, My Dear Wolfram!</title>
		
		<link rel="stylesheet" href="style.css">
		<script src="script.js"></script>
	</head>
	
	<body>
		<div id="title">
			<h1>Elementary, My Dear Wolfram!</h1>
			<div><hr /></div>
			<h2>A short exploration of the elementary cellular automata</h2>
		</div>
		
		<div class="rule-container main-rule-container">
			<div>
				<table class="cell-table">
					<tbody>
						<tr>
							<td class="square on"></td>
							<td class="square on"></td>
							<td class="square on"></td>
						</tr>
						<tr>
							<td class="square empty"></td>
							<td class="square off clicky" onclick="toggle_bit(this, 0)"></td>
						</tr>
					</tbody>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square on"></td>
						<td class="square on"></td>
						<td class="square off"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square off clicky" onclick="toggle_bit(this, 1)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square on"></td>
						<td class="square off"></td>
						<td class="square on"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square off clicky" onclick="toggle_bit(this, 2)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square on"></td>
						<td class="square off"></td>
						<td class="square off"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square on clicky" onclick="toggle_bit(this, 3)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square off"></td>
						<td class="square on"></td>
						<td class="square on"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square off clicky" onclick="toggle_bit(this, 4)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square off"></td>
						<td class="square on"></td>
						<td class="square off"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square on clicky" onclick="toggle_bit(this, 5)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square off"></td>
						<td class="square off"></td>
						<td class="square on"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square on clicky" onclick="toggle_bit(this, 6)"></td>
					</tr>
				</table>
				
				<table class="cell-table">
					<tr>
						<td class="square off"></td>
						<td class="square off"></td>
						<td class="square off"></td>
					</tr>
					<tr>
						<td class="square empty"></td>
						<td class="square off clicky" onclick="toggle_bit(this, 7)"></td>
					</tr>
				</table>
				
				<div id="rule-num-container">
					<div>
						= <span id="rule-num" class="clicky" onclick="show_num_input()">22</span>
						<input type="text" value="22" id="num-input" class="no-display" onblur="update_num_input()" onkeyup="if(event.key == 'Enter') this.blur()"></input>
					</div>
				</div>
			</div>
		</div>
		
		<div>
			<canvas id="canvas" height="2400"></canvas>
			
			<div id="content">
				<button id="show-canvas-button" class="clicky" onclick="toggle_lower()">
					Show more
				</button>
				
				<blockquote>A cellular automaton is an infinite grid of cells, each cell containing a number, and a set of rules for how those cells evolve over time.</blockquote>
				
				<p>
					The world of cellular automata is a vast one, filled with all sorts of strange pixel patterns. In this article, I'd like to introduce you to 256 of my personal favorites: the 256 elementary cellular automata. Don't worry about how many there are, they all work roughly the same way. First off, they're all one dimensional and only allow cells to be
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square on"></td>
							</tr>
						</tbody>
					</table>
					or
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>. Each time the grid (just a simple row, since its one dimensional) evolves, each cell's new number is a combination of its previous number with the numbers of its neighbors previous numbers. The only difference between the elementary cellular automata are their sets of rules on exactly how to combine those numbers. I'll use an example to show you how to find the evolution rule corresponding to any given elementary cellular automaton. I'll use the automaton number 70, also called <a class="rule-button clicky" onclick="update_rule_to(70)">rule 70</a> (click to see it in action). To find its rule, you have to first convert its number into an 8-bit binary number, which for 70 is <code>01000110</code>. Then, you have to assign each bit, in order, to a specific case:
				</p>
				
				<div class="rule-container">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="square on"></td>
									<td class="square on"></td>
									<td class="square on"></td>
								</tr>
								<tr>
									<td class="square empty"></td>
									<td class="square off"></td>
								</tr>
							</tbody>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square on"></td>
								<td class="square on"></td>
								<td class="square off"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square on"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square on"></td>
								<td class="square off"></td>
								<td class="square on"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square off"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square on"></td>
								<td class="square off"></td>
								<td class="square off"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square off"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square off"></td>
								<td class="square on"></td>
								<td class="square on"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square off"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square off"></td>
								<td class="square on"></td>
								<td class="square off"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square on"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square off"></td>
								<td class="square off"></td>
								<td class="square on"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square on"></td>
							</tr>
						</table>
						
						<table class="cell-table">
							<tr>
								<td class="square off"></td>
								<td class="square off"></td>
								<td class="square off"></td>
							</tr>
							<tr>
								<td class="square empty"></td>
								<td class="square off"></td>
							</tr>
						</table>
					</div>
				</div>
				
				<p>The top 3 bits of each case are what are used to tell how a cell evolves. Let's say the current row of cells is like so:</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>
					First off, the infinite
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>s on either side remain that way, because the last case,
					<table class="cell-table in-text shrunken">
						<tr>
							<td class="square off"></td>
							<td class="square off"></td>
							<td class="square off"></td>
						</tr>
						<tr>
							<td class="square empty"></td>
							<td class="square off"></td>
						</tr>
					</table>,
					means that every triple of
					<table class="cell-table in-text">
						<tr>
							<td class="square off"></td>
							<td class="square off"></td>
							<td class="square off"></td>
						</tr>
					</table>
					(overlapping allowed) will have a single
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>
					appear underneath the middle
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>.
					That leaves us with:
				</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square off"></td>
									<td class="square undefined"></td>
									<td class="square undefined"></td>
									<td class="square undefined"></td>
									<td class="square undefined"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>
					as the start of the next row. For the leftmost still unknown cell, as its previous state and its neighbors were
					<table class="cell-table in-text">
						<tr>
							<td class="square off"></td>
							<td class="square off"></td>
							<td class="square on"></td>
						</tr>
					</table>, the before last case
					<table class="cell-table in-text shrunken">
						<tr>
							<td class="square off"></td>
							<td class="square off"></td>
							<td class="square on"></td>
						</tr>
						<tr>
							<td class="square empty"></td>
							<td class="square on"></td>
						</tr>
					</table>
					applies, meaning in the new row it'll be a
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square on"></td>
							</tr>
						</tbody>
					</table>.
					The next cell's previous state and neighbors were
					<table class="cell-table in-text">
						<tr>
							<td class="square off"></td>
							<td class="square on"></td>
							<td class="square on"></td>
						</tr>
					</table>,
					appliying the case
					<table class="cell-table in-text shrunken">
						<tr>
							<td class="square off"></td>
							<td class="square on"></td>
							<td class="square on"></td>
						</tr>
						<tr>
							<td class="square empty"></td>
							<td class="square off"></td>
						</tr>
					</table>, resulting in
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>
					now. After that, the
					<table class="cell-table in-text">
						<tr>
							<td class="square on"></td>
							<td class="square on"></td>
							<td class="square off"></td>
						</tr>
					</table>
					results in a
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square on"></td>
							</tr>
						</tbody>
					</table>
					and the
					<table class="cell-table in-text">
						<tr>
							<td class="square on"></td>
							<td class="square off"></td>
							<td class="square off"></td>
						</tr>
					</table>
					in a
					<table class="cell-table in-text">
						<tbody>
							<tr>
								<td class="square off"></td>
							</tr>
						</tbody>
					</table>.
					Putting all those in where they belong, the resulting row looks like
				</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>If we ran <i>all</i> these steps again, we would get</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square on"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>and then</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>Elementary cellular automata are typically not shown using an individual row, but collecting the rows together. Doing that makes a two dimensional image, where each row evolves from the one above. In this example, that would look like this:</p>
				
				<div class="rule-container row">
					<div>
						<table class="cell-table">
							<tbody>
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
								
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
								
								<tr>
									<td class="faded square off"></td>
									<td class="fading square off"></td>
									<td class="square on"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
								
								<tr>
									<td class="faded square off"></td>
									<td class="fading square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square on"></td>
									<td class="square off"></td>
									<td class="square off"></td>
									<td class="fading square off"></td>
									<td class="faded square off"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				
				<p>If you look at how <a class="rule-button clicky" onclick="update_rule_to(70)">rule 70</a> (click to see it) actually looks, you'll see these are exactly the second through fifth rows (I just skipped the first row for the example).</p>
				
				<h3>Some Rules I Find Neat</h3>
				
				<p>Here are a bunch of different rules to check out:</p>
				
				<ul>
					<li><a class="rule-button clicky" onclick="update_rule_to(73)">Rule 73</a> and <a class="rule-button clicky" onclick="update_rule_to(105)">rule 105</a> are just generally pretty.</li>
					<li><a class="rule-button clicky" onclick="update_rule_to(57)">Rule 57</a> sort of looks like a 3d pyramid lit on one side.</li>
					<li><a class="rule-button clicky" onclick="update_rule_to(54)">Rule 54</a> makes a whole bunch of small triangles.</li>
					<li><a class="rule-button clicky" onclick="update_rule_to(50)">Rule 50</a> generates an ever expanding checkerboard pattern.</li>
					<li><a class="rule-button clicky" onclick="update_rule_to(110)">Rule 110</a> is actually Turing-complete, if you want to look that up.</li>
				</ul>
				
				<h3>A Fractal Hidden Within</h3>
				
				<blockquote>A fractal is an infinite pattern that is typically self similar even at different scales. Most fractals are made by repeating a process infinitely many times, so approximations are needed to draw one.</blockquote>
				
				<p>I think one of the simplest fractals out there is the Sierpiński triangle. To make it, you must start with a simple triangle:</p>
				
				<img src="./triangle1.png" />
				
				<p>Then, place two copies of it underneath it, like so:</p>
				
				<img src="./triangle2.png" />
				
				<p>Next, do the same thing again, but with the whole thing. That would give:</p>
				
				<img src="./triangle3.png" />
				
				<p>The perfect Sierpiński triangle would then be this step repeated again and again, an infinite number of times, looking something like:</p>
				
				<img src="./triangle4.png" />
				
				<p>What's so neat about all this, is that this same patterns is simulated by several different elementary cellular automata, my favorite being <a class="rule-button clicky" onclick="update_rule_to(22)">rule 22</a>. Another interesting one is <a class="rule-button clicky" onclick="update_rule_to(102)">rule 102</a>, which looks like a rotated Sierpiński triangle.</p>
				
				<h3>Making Your Own!</h3>
				
				<p>You can click on the bottom bit in any of the cases in the visualization at the top of the page to toggle it. Or, you can click on the number to put a number 0-255 corresponding to a rule number. Go wild!</p>
			</div>
		</div>
	</body>
</html>